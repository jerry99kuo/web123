<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ article.title }} - æ–‡ç« è©³æƒ…</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* è¤‡è£½ index.html è£¡çš„ :root, html, body æ¨£å¼ */
        :root { 
            --primary-color: #0d6cf0ff; 
            --secondary-color: #3a6073; 
            --accent-color: #1a2a6c; 
            --text-dark: #2c3e50; 
            --text-light: #5a6a7a; 
            --bg-light: #f8f9fa; 
            --font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        body { 
            margin: 0;
            padding: 0;
            font-family: var(--font-family); 
            background-color: var(--bg-light); 
            color: var(--text-dark); 
        }
        
        footer { 
            background-color: #2c3e50; 
            color: #bdc3c7; 
            text-align: center; 
            padding: 30px 20px; 
        }

        /* ğŸŒŸ æ–°å¢æ¨£å¼ï¼šå›ºå®šå³å´é¸å–® */
        .article-sidebar-nav {
            /* ä½¿ç”¨ fixed å®šä½å›ºå®šåœ¨è¢å¹•ä¸Š */
            position: fixed;
            top: 100px; /* è·é›¢é ‚éƒ¨ä¸€äº›ç©ºé–“ */
            right: 20px; /* è·é›¢å³å´ 20px */
            width: 280px; /* çµ¦äºˆé¸å–®å›ºå®šçš„å¯¬åº¦ */
            z-index: 100; /* ç¢ºä¿å®ƒåœ¨æœ€ä¸Šå±¤ */
        }

        .sticky-nav-content {
            max-height: calc(100vh - 120px); /* è®“é¸å–®ä¸è¶…éè¢å¹•é«˜åº¦ */
            overflow-y: auto; /* è¶…å‡ºæ™‚å¯æ»¾å‹• */
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* ç¢ºä¿å…§å®¹å€å¡Šä¸æœƒè¢«é¸å–®é®ä½ï¼Œé›–ç„¶ä½¿ç”¨ fixed å®šä½å¾Œä¸æœƒï¼Œä½†é ç•™ä¸€äº›ç©ºé–“æ›´å¥½ */
        .article-main-container {
             /* åƒ…åœ¨å¤§è¢å¹•ä¸Šçµ¦å…§å®¹å€ç•™å‡ºå³å´ç©ºé–“ */
            padding-right: 30px; 
        }

        /* é›†æ•¸åˆ—è¡¨é …çš„ hover æ•ˆæœ */
        .list-group-item-action:hover {
            background-color: var(--bg-light);
        }
        
        /* ç¢ºä¿æ–‡ç« å…§å®¹ä¸­çš„ pre-wrap æ¨£å¼ç”Ÿæ•ˆ */
        .content-box-single p {
            white-space: pre-wrap;
            line-height: 1.8;
            color: var(--text-light);
        }
    </style>
</head>
<body>

    <section id="article-detail" style="padding: 100px 20px; background-color: var(--bg-light);">
        <div class="container article-main-container" style="max-width: 900px;">
            <h1 class="text-center mb-3" style="font-weight: 700; color: var(--primary-color);">{{ article.title }}</h1>
            <p class="text-center lead mb-5" style="color: var(--text-light);">{{ article.summary }}</p>

            <div class="content-box-single">
                {% for chapter in article.chapters %}
                <article id="chapter-{{ chapter.chapter_id }}" class="mb-5 p-4 bg-white rounded-3 shadow-sm border-start border-primary border-4">
                    <h2 class="mb-3" style="font-size: 1.8rem; color: var(--text-dark);">
                        {{ chapter.chapter_title }}
                    </h2>
                    <p>{{ chapter.content }}</p>
                </article>
                {% endfor %}

                {% if not article.chapters %}
                <div class="alert alert-warning">
                    æ­¤æ–‡ç« ç›®å‰é‚„æ²’æœ‰é›†æ•¸å…§å®¹ã€‚
                </div>
                {% endif %}
            </div>
            
            <div class="text-center mt-5">
                <a href="/articles" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> è¿”å›æ–‡ç« åˆ—è¡¨</a>
            </div>
        </div>
        
        <div class="article-sidebar-nav d-none d-lg-block">
            <div class="list-group shadow-sm sticky-nav-content">
                <li class="list-group-item active" style="background-color: var(--accent-color); border-color: var(--accent-color);">
                    <i class="bi bi-list-ol"></i> **é›†æ•¸åˆ—è¡¨**
                </li>
                
                {% for chapter in article.chapters %}
                <a href="#chapter-{{ chapter.chapter_id }}" 
                   class="list-group-item list-group-item-action">
                    {{ chapter.chapter_title }}
                </a>
                {% endfor %}
            </div>
        </div>
    </section>
    
    <footer>
        <p>æŒçºŒæ›´æ–°ç¶²ç«™</p>
        <p>&copy; 2025 éƒ­å…†è»’ (Jerry Kuo). All Rights Reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>